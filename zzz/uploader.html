<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <title>Uploader App</title>
</head>
<body>
  <h2>Upload Profile</h2>
  <form id="uploadForm">
    <label>Name: <input type="text" name="name" required></label><br><br>
    <label>Age: <input type="number" name="age" required></label><br><br>
    <label>Profile Picture: <input type="file" name="profile" accept="image/*" required></label><br><br>
    <button type="submit">Upload</button>
  </form>

  <script>
    const form = document.getElementById('uploadForm');

    form.addEventListener('submit', function(e) {
      e.preventDefault();

      const formData = new FormData(form);
      const reader = new FileReader();

      reader.onload = function() {
        const userData = {
          name: formData.get('name'),
          age: formData.get('age'),
          image: reader.result // base64 image
        };

        localStorage.setItem('userData', JSON.stringify(userData));
        alert("Data uploaded! Open viewer.html to see it.");
      };

      const file = formData.get('profile');
      if (file) {
        reader.readAsDataURL(file); // Convert image to base64 string
      }
    });
  </script>
</body>
</html>
